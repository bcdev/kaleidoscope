#!/usr/bin/env bash
#
# Copyright (c) Brockmann Consult GmbH, 2025
# License: MIT
#
set -e
## Produces Monte Carlo variants of the GLORYS product.
#
#  ./kaleidoscope-glorys <file>
#
for selector in 001 002 003 004 005 006 007 008 009 010; do
  echo "$(tput setaf 2)$(date -u "+%Y-%m-%dT%H:%M:%S") [INFO] Selector ${selector} ...$(tput sgr0)"
  kaleidoscope \
    --selector ${selector} \
    --product-type esa-cci-oc \
    --log-level warning \
    --progress \
    "${1}" \
    "${1%.nc}"."${selector}".nc
done
